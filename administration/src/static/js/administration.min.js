!function(){"use strict";angular.module("administration",["ngRoute","ui.bootstrap","ngFileUpload","ngCookies"])}(),function(){"use strict";function e(e,t,r){function n(t){return o.userDelete(t).then(function(e){return!0}).catch(function(t){return e.error(" error: "+t),!1})}var i=this,o=t,a=r;i.orderOptions=[{id:"user_id",name:"ID korisnika"},{id:"tag_id",name:"Tag ID"},{id:"role_id",name:"Titula"},{id:"first_name",name:"Ime"},{id:"last_name",name:"Prezime"},{id:"email",name:"Email"}],i.deleteSelected=function(){var t=i.list.filter(function(e){return e.isSelected});e.info("Selected users: ",t);for(var r=0;r<t.length;r++)n(t[r].user_id)||e.error("Failed to delete session with id "+t[r].user_id.toString());i.list=i.list.filter(function(e){return t.indexOf(e)<0})},o.getItems().then(function(e){console.log("Response data: ",e.data);var t=e.data,r=[];angular.forEach(t,function(e,t){var r=JSON.parse(e);""===r.pic_url&&(r.pic_url=a.getDefaultUserProfileImageUrl()),this.push(r)},r),i.list=r}).catch(function(e){console.log("Error loading users: ",e)})}angular.module("administration").controller("UsersController",e),e.$inject=["$log","usersService","imagesService"]}(),function(){"use strict";function e(e){return{restrict:"EA",scope:{user:"=userInfo"},templateUrl:e.appBaseUrl()+"/users/user-info.html"}}angular.module("administration").directive("userInfo",e),e.$inject=["templateServiceProvider"]}(),function(){"use strict";function e(e,t,r,n,i){var o=i;e.model={userId:t.id,userData:{}},e.deleteItem=function(){e.model.userData.isSelected&&o.userDelete(e.model.userId).then(function(e){r.url("/users")}).catch(function(e){window.alert(" error: "+e)})},o.getItem(e.model.userId).then(function(t){var r=t.data;n.info("Raw data from response",r),e.model.userData=r})}angular.module("administration").controller("UserDetailsController",e),e.$inject=["$scope","$routeParams","$location","$log","usersService"]}(),function(){"use strict";function e(e,t){function r(t){return i.sessionDelete(t).then(function(e){return!0}).catch(function(t){return e.error(" error: "+t),!1})}var n=this,i=t;n.list=[],n.orderOptions=[{id:"id",name:"ID sesije"},{id:"key_id",name:"ID ključa"},{id:"user_id",name:"ID korisnika"},{id:"started_on",name:"Datum preuzimanja"},{id:"closed_on",name:"Datum vraćanja"}],n.orderProp={id:"started_on",name:"Datum preuzimanja"},n.reverseOrder=!0,n.selectAll=function(){for(var e=0;e<n.list.length;e++)n.list[e].isSelected=!n.list[e].isSelected},n.deleteById=r,n.deleteSelected=function(){for(var t=n.list.filter(function(e){return e.isSelected}),i=0;i<t.length;i++)r(t[i].id)||e.error("Failed to delete session with id "+id.toString());n.list=n.list.filter(function(e){return t.indexOf(e)<0})},i.sessions().then(function(e){for(var t=e.data,r=[],i=0;i<t.length;i++)r.push(JSON.parse(t[i]));n.list=r})}angular.module("administration").controller("SessionsController",e),e.$inject=["$log","sessionService"]}(),function(){"use strict";function e(e){return{sessions:function(){return e.get("/api/sessions")},session:function(t){return e.get("/api/sessions/"+t.toString())},sessionDelete:function(t){return e.delete("/api/sessions/delete/"+t.toString())}}}angular.module("administration").service("sessionService",e),e.$inject=["$http"]}(),function(){"use strict";function e(e){return{restrict:"EA",scope:{session:"=sessionInfo"},templateUrl:e.appBaseUrl()+"/sessions/session-info.html"}}angular.module("administration").directive("sessionInfo",e),e.$inject=["templateServiceProvider"]}(),function(){"use strict";function e(e,t,r){var n=this,i=r;n.submit=function(){i.search(n.queryset).then(function(e){var r=e.data;t.info(r);var i=[];angular.forEach(r,function(e,t){var r=JSON.parse(e);this.push(r)},i),n.results=i}).catch(function(e){t.error(e.data)})},n.cancel=function(){e.url("/home")},n.doSubmit=function(e){13==e.which&&n.submit()},n.results=[]}angular.module("administration").controller("UsersSearchController",e),e.$inject=["$location","$log","usersService"]}(),function(){"use strict";function e(e){return{restrict:"EA",scope:{results:"="},templateUrl:e.appBaseUrl()+"/search-users/users-results.html"}}angular.module("administration").directive("usersSearchResults",e),e.$inject=["templateServiceProvider"]}(),function(){"use strict";function e(e,t,r){var n=r;e.orderOptions=[{id:"id",name:"ID sesije"},{id:"key_id",name:"ID ključa"},{id:"user_id",name:"ID korisnika"},{id:"started_on",name:"Datum preuzimanja"},{id:"closed_on",name:"Datum vraćanja"}],n.getSessionsByUser(e.userId).then(function(r){t(function(){e.$apply(function(){for(var t=r.data,n=[],i=0;i<t.length;i++)n.push(JSON.parse(t[i]));e.result=n})},0)})}angular.module("administration").controller("UserSessionsController",e),e.$inject=["$scope","$timeout","searchSessionsService"]}(),function(){"use strict";function e(e){return{restrict:"EA",scope:{userId:"="},templateUrl:e.appBaseUrl()+"/search-sessions/user-sessions.html",controller:"UserSessionsController"}}angular.module("administration").directive("userSessions",e),e.$inject=["templateServiceProvider"]}(),function(){"use strict";function e(e){return{getSessionsByKey:function(t){return e.get("/api/sessions/key/"+t.toString())},getSessionsByUser:function(t){return e.get("/api/sessions/user/"+t.toString())}}}angular.module("administration").service("searchSessionsService",e),e.$inject=["$http"]}(),function(){"use strict";function e(e,t,r){var n=r;e.orderOptions=[{id:"id",name:"ID sesije"},{id:"key_id",name:"ID ključa"},{id:"user_id",name:"ID korisnika"},{id:"started_on",name:"Datum preuzimanja"},{id:"closed_on",name:"Datum vraćanja"}],n.getSessionsByKey(e.keyId).then(function(r){t(function(){e.$apply(function(){for(var t=r.data,n=[],i=0;i<t.length;i++)n.push(JSON.parse(t[i]));e.result=n})},0)})}angular.module("administration").controller("KeySessionsController",e),e.$inject=["$scope","$timeout","searchSessionsService"]}(),function(){"use strict";function e(e){return{restrict:"EA",scope:{keyId:"="},templateUrl:e.appBaseUrl()+"/search-sessions/key-sessions.html",controller:"KeySessionsController"}}angular.module("administration").directive("keySessions",e),e.$inject=["templateServiceProvider"]}(),function(){"use strict";function e(e,t,r){var n=this,i=r;n.submit=function(){i.search(n.queryset).then(function(e){var r=e.data;t.info(r);var i=[];angular.forEach(r,function(e,t){var r=JSON.parse(e);this.push(r)},i),n.results=i}).catch(function(e){t.error(e.data)})},n.cancel=function(){e.url("/home")},n.doSubmit=function(e){13==e.which&&n.submit()},n.results=[]}angular.module("administration").controller("KeysSearchController",e),e.$inject=["$location","$log","keysService"]}(),function(){"use strict";function e(e){return{restrict:"EA",scope:{results:"="},templateUrl:e.appBaseUrl()+"/search-keys/keys-results.html"}}angular.module("administration").directive("keysSearchResults",e),e.$inject=["templateServiceProvider"]}(),function(){"use strict";function e(e,t,r,n,i){function o(){var t=!0;return e.firstName||(e.errorRegistering.firstname="Ovo polje je obavezno!",t=!1),e.lastName||(e.errorRegistering.lastname="Ovo polje je obavezno!",t=!1),e.email||(e.errorRegistering.email="Ovo polje je obavezno!",t=!1),e.password||(e.errorRegistering.password="Ovo polje je obavezno!",t=!1),e.password2||(e.errorRegistering.password2="Ovo polje je obavezno!",t=!1),e.password2!=e.password&&(e.errorRegistering.password2="Lozinke moraju biti jednake!",t=!1),e.password.length<9&&(e.errorRegistering.password="Lozinka je sigurna kao ima više od 8 znakova!",t=!1),e.tagInfo.tagId&&!isNaN(e.tagInfo.tagId)||(e.errorRegistering.firstname="Niste prošli karticom preko čitača! Osvježite stranicu i pokušajte ponovno...",t=!1),t}function a(){return{tag_id:e.tagInfo.tagId,first_name:e.firstName,last_name:e.lastName,email:e.email,password:e.password,role_id:e.role}}e.title="Stranica za registraciju korisnika",e.note="Registrirajte korisnika pridruživanjem informacija o RFID kartici sa podacima o korisniku",e.tagInfo={tagId:"",message:""},e.isPreloading=!1,e.roleOptions=[{id:1,name:"Profesor"},{id:2,name:"Student"}],e.errorRegistering={firstname:"",lastname:"",email:"",password:"",password2:"",imageFile:""},e.proceed=function(){if(o()){t.debug("Entered the register controller...");var i=a();t.info("User data is: ",i);var s=e.image;t.info("Image is ",s),n.registerUser(i,s).then(function(e){t.info(e.data),r.url("/login")}).catch(function(e){t.error("Error during register action: ",e)})}},e.cancel=function(){r.url("/home")},e.isValid=o}angular.module("administration").controller("UserRegisterController",e),e.$inject=["$scope","$log","$location","registerService","authService"]}(),function(){"use strict";function e(e,t){return{userId:function(t){return e.get("/api/users/tag/search/"+t)},keyId:function(t){return e.get("/api/keys/tag/search/"+t)},registerKey:function(t){return e.post("/api/keys/register",JSON.stringify(t))},registerUser:function(e,r){return t.upload({url:"/api/users/register",data:{file:r,user_json:JSON.stringify(e),user:e},method:"POST"})}}}angular.module("administration").service("registerService",e),e.$inject=["$http","Upload"]}(),function(){"use strict";function e(e,t,r,n){var i=n;e.title="Stranica za registraciju ključeva",e.note="Registrirajte ključ i prostoriju pridjeljujući broj prostorije s ostalim podacima poput odjela.",e.tagInfo={tagId:"",message:""},e.isRoom=1,e.proceed=function(){t.info("Tag ID: ",e.tagInfo.tagId);var n={id:-1,tag_id:e.tagInfo.tagId,room_id:e.roomId,block_name:e.blockName,sector_name:e.sectorName,floor:e.floor};t.info("Key: ",n),i.registerKey(n).then(function(e){200==e.status?r.url("/home"):t.debug("Response status is not 200 on registering key: "+e.data)}).catch(function(e){t.error("Failed to create key... "+e.data)})},e.cancel=function(){r.url("/home")}}angular.module("administration").controller("KeyRegisterController",e),e.$inject=["$scope","$log","$location","registerService"]}(),function(){"use strict";function e(e){return{initReader:function(){return e.get("/api/reader")}}}angular.module("administration").service("readerService",e),e.$inject=["$http"]}(),function(){"use strict";function e(e){return{restrict:"EA",scope:{tagData:"=",message:"="},templateUrl:e.appBaseUrl()+"/reader/reader.html",controller:"ReaderController"}}angular.module("administration").directive("reader",e),e.$inject=["templateServiceProvider"]}(),function(){"use strict";function e(e,t,r,n){n.initReader().then(function(n){t.info(n.data),r(function(){var t=n.data.data,r=n.data.message;e.$apply(function(){e.message=r,e.tagData=t})},200)}).catch(function(e){t.error("No data detected, reload page and move your tag closer to reader... "+e.data)})}angular.module("administration").controller("ReaderController",e),e.$inject=["$scope","$log","$timeout","readerService"]}(),function(){"use-strict";function e(e){return{retstrict:"E",scope:!1,controller:"SidebarController",templateUrl:e.appBaseUrl()+"/navigation-sidebar/navigation-sidebar.html"}}angular.module("administration").directive("navigationSidebar",e),e.$inject=["templateServiceProvider"]}(),function(){"use-strict";function e(e){e.basic={label:"Opcije brze pretrage"},e.extended={label:"Pregled svih podataka"},e.settings={label:"Opcije za pohranu"},e.slideSidebar=function(){e.showSide=!e.showSide},e.basicRoutes=[{id:7,route:"/users/search",name:"Pretraga korisnika"},{id:2,route:"/keys/search",name:"Pretraga ključeva"}],e.extendedRoutes=[{id:1,route:"/sessions",name:"Preuzimanja ključeva"},{id:6,route:"/users",name:"Korisnici"},{id:5,route:"/keys",name:"Prostorije"}],e.settingsRoutes=[{id:4,route:"/keys/register",name:"Registracija ključa"},{id:3,route:"/keys/seed",name:"Uvoz ključeva"}]}angular.module("administration").controller("SidebarController",e),e.$inject=["$scope"]}(),function(){"use strict";function e(e){return{restrict:"E",scope:!1,templateUrl:e.appBaseUrl()+"/navigation/navigation.html",controller:"NavController"}}angular.module("administration").directive("navBar",e),e.$inject=["templateServiceProvider"]}(),function(){"use strict";function e(e,t,r){function n(t){e.tab=t}function i(t){var r=e.commonRoutes.concat(e.protectedRoutes);e.isAuthenticated||(r=r.concat(e.authenticationRoutes));for(var i=0;i<r.length;i++)if(r[i].route==t)return n(r[i].id),!0;return!1}e.isAuthenticated=!1,e.setActive=n,e.isActive=function(t){return e.tab===t},e.title="RFID sustav",e.commonRoutes=[{id:0,route:"/",name:"Naslovnica"}],e.protectedRoutes=[{id:1,route:"/sessions",name:"Preuzimanja ključeva"},{id:2,route:"/keys/search",name:"Pretraga ključeva"},{id:3,route:"/keys/seed",name:"Uvoz ključeva"},{id:4,route:"/keys/register",name:"Registracija ključa"},{id:5,route:"/keys",name:"Prostorije"},{id:6,route:"/users",name:"Korisnici"},{id:7,route:"/users/search",name:"Pretraga korisnika"}],e.authenticationRoutes=[{id:8,route:"/login",name:"Prijava korisnika"},{id:9,route:"/users/register",name:"Registracija korisnika"}],e.$on("$routeChangeStart",function(n,i,o){if(void 0!=i.$$route){var a=i.$$route.originalPath,s=["/home","/login","/users/register"],l=!1;angular.forEach(s,function(e,t){e==a&&(l=!0)}),console.log("From naviagation ",e.isAuthenticated),void 0!=r.getCredentials?e.isAuthenticated=!!r.getCredentials():e.isAuthenticated=!1,l||e.isAuthenticated||(n.preventDefault(),t.url("/login"))}}),e.$on("$routeChangeSuccess",function(t,n,o){if(void 0!=r.getCredentials&&(e.isAuthenticated=r.isAuthenticated(),e.isAuthenticated)){var a=r.getCredentials();r.setCredentials(a.username,a.token)}void 0!=n.$$route&&i(n.$$route.originalPath.substring(1))})}angular.module("administration").controller("NavController",e),e.$inject=["$scope","$location","authService"]}(),function(){"use strict";function e(e){e.isAuthenticated=!1}angular.module("administration").controller("MainController",e),e.$inject=["$scope"]}(),function(){"use-strict";function e(e,t,r,n){function i(){var t=!0;return e.loginError={},e.email||(e.loginError.email="Ovo polje je obavezno!",t=!1),e.password||(e.loginError.password="Ovo polje je obavezno!",t=!1),e.password&&e.password.length<9&&(e.loginError.password="Lozinka je sigurna kao ima više od 8 znakova!",t=!1),t}e.loginErrror={},e.doLogin=function(){i()&&(t.info("Entered the login controller..."),n.login(e.email,e.password).then(function(i){t.debug("Login response data: ",i.data);var o=i.data,a=n.setCredentials(e.email,o);a&&(t.debug("Auth data after login: ",a),r.url("/home"))}).catch(function(r){t.error(r),e.loginError.non_field_error=r.data.message}))},e.isValid=i}angular.module("administration").controller("LoginController",e),e.$inject=["$scope","$log","$location","authService"]}(),function(){"use strict";function e(e,t,r,n,i){var o=this;o.getTemplate=function(){e.get("/api/data/template").then(function(e){var t=e.file;n.info("Filename is ",t),r.open("/api/data/template")})},o.send=function(){i.upload({url:"/api/data/import",data:{file:o.file}}).then(function(e){n.info("Success ",e),t.url("/keys")},function(e){n.error("Error status: ",e)})},o.cancel=function(){t.url("/home")}}angular.module("administration").controller("KeysSeedController",e),e.$inject=["$http","$location","$window","$log","Upload"]}(),function(){"use strict";function e(e,t,r){function n(e){return o.keyDelete(e).then(function(e){return!0}).catch(function(e){return t.error(" error: "+e),!1})}var i=this,o=r;i.deleteSelected=function(){for(var e=i.list.filter(function(e){return e.isSelected}),r=0;r<e.length;r++)n(e[r].id)||t.error("Failed to delete session with id "+id.toString());i.list=i.list.filter(function(t){return e.indexOf(t)<0})},i.toImport=function(){e.url("/keys/seed")},i.orderOptions=[{id:"id",name:"ID ključa"},{id:"tag_id",name:"Tag ID ključa"},{id:"room_id",name:"Broju prostorije"},{id:"sector_name",name:"Odjelu"},{id:"room_repr",name:"Punom zapisu"}],o.getItems().then(function(e){for(var t=e.data,r=[],n=0;n<t.length;n++){var o=t[n];r.push(JSON.parse(o))}i.list=r})}angular.module("administration").controller("KeysController",e),e.$inject=["$location","$log","keysService"]}(),function(){"use strict";function e(e){return{restrict:"EA",scope:{key:"=keyInfo"},templateUrl:e.appBaseUrl()+"/keys/key-info.html"}}angular.module("administration").directive("keyInfo",e),e.$inject=["templateServiceProvider"]}(),function(){"use strict";function e(e,t,r,n,i){var o=i;e.model={keyId:t.id,keyData:{}},e.deleteItem=function(){e.model.userData.isSelected&&o.keyDelete(e.model.keyId).then(function(e){r.url("/keys")}).catch(function(e){window.alert(" error: "+e)})},o.getItem(e.model.keyId).then(function(t){var r=t.data;n.info("Raw data from response is: ",r),e.model.keyData=r})}angular.module("administration").controller("KeyDetailsController",e),e.$inject=["$scope","$routeParams","$location","$log","keysService"]}(),function(){"use strict";function e(e){e.title="Sustav za upravljanje i organizaciju ključeva od prostorija temeljen na RFID tehnologiji",e.message="Web aplikacija za upravljanje, preuzimanje i vraćanje preuzetih ključeva prostorija."}angular.module("administration").controller("HomeController",e),e.$inject=["$scope"]}(),function(){"use strict";function e(e,t,r,n,i){var o=r.id,a=i;e.title="Stranica za uređivanje podataka korisnika",e.note="Uredite podatke korisnika pridruživanjem informacija o RFID kartici sa podacima o korisniku",e.tagInfo={tagId:"",message:""},e.isPreloading=!0,e.roleOptions=[{id:1,name:"Profesor"},{id:2,name:"Student"}],e.proceed=function(){var r={id:o,tag_id:e.tagInfo.tagId,first_name:e.firstName,last_name:e.lastName,email:e.email,role_id:e.role};t.info("User data is ",r);var i=e.image;t.info("Image name is ",i),a.updateUser(r,i).then(function(e){200==e?n.url("/users"):t.error("Error status: ",e)}).catch(function(e){t.error("Error status: ",e)})},e.cancel=function(){n.url("/home")},e.isNotValid=function(){return""==e.tagInfo.tagId||""==e.firstName||""==e.lastName||""==e.email||""==e.role},a.getUser(o).then(function(r){var n=r.data;t.info("User info loaded: ",n),e.tagInfo.tagId=n.tag_id,e.email=n.email,e.firstName=n.first_name,e.lastName=n.last_name,e.role=e.roleOptions.filter(function(e){return e.id==n.role_id})[0].id,e.image=n.pic_url}).catch(function(e){t.error("Failed to load user data... "+e.data),n.url("/home")})}angular.module("administration").controller("UserEditController",e),e.$inject=["$scope","$log","$routeParams","$location","updateService"]}(),function(){"use strict";function e(e,t){return{getKey:function(t){return e.get("/api/key/get/"+t.toString())},getUser:function(t){return e.get("/api/user/get/"+t.toString())},updateKey:function(t){return e.put("/api/key/edit",JSON.stringify(t))},updateUser:function(e,r){return t.upload({url:"/api/user/edit",data:{file:r,user_json:JSON.stringify(e),user:e},method:"PUT"}).then(function(e){return e.status},function(e){return e.status})}}}angular.module("administration").service("updateService",e),e.$inject=["$http","Upload"]}(),function(){"use strict";function e(e,t,r,n,i){var o=r.id,a=i;e.title="Stranica za uređivanje podataka o ključu",e.note="Uredite podatke o ključu i prostoriji pridjeljujući broj prostorije s ostalim podacima poput odjela.",e.tagInfo={tagId:"",message:""},e.isRoom=1,e.isPreloading=!0,e.proceed=function(){t.info("TagID: ",e.tagInfo.tagId);var r={id:o,tag_id:e.tagInfo.tagId,room_id:e.roomId,block_name:e.blockName,sector_name:e.sectorName,floor:e.floor,room_repr:e.roomRepr};t.info("Key: ",r),a.updateKey(r).then(function(e){t.info("Updated key: "+e.data),n.url("/keys")}).catch(function(e){t.error("Failed to create key... "+e.data)})},e.cancel=function(){n.url("/home")},e.$watch("tagInfo.tagId",function(e,r){t.info("Previous tag data: ",e),t.info("New tag data: ",r)}),a.getKey(o).then(function(r){var n=r.data;t.info("Key info loaded: ",n),e.isRoom=n.block_name.includes("F")&&n.sector_name.includes("A")?2:1,e.tagInfo.tagId=n.tag_id,e.roomId=n.room_id,e.blockName=n.block_name,e.sectorName=n.sector_name,e.floor=n.floor,e.roomRepr=n.room_repr,e.isPreloading=!1,t.info("TagID: ",e.tagInfo.tagId)}).catch(function(e){t.error("Failed to load key data... "+e.data),n.url("/home")})}angular.module("administration").controller("KeyEditController",e),e.$inject=["$scope","$log","$routeParams","$location","updateService"]}(),function(){"use-strict";function e(e){return{restrict:"E",scope:{tagData:"="},controller:"CounterController",templateUrl:e.appBaseUrl()+"/counter/counter.html"}}angular.module("administration").directive("counter",e),e.$inject=["templateServiceProvider"]}(),function(){"use-strict";function e(e,t){e.message=" OPREZ! Vremena preostalo za očitanje: ",e.counter=60;var r=function(){e.counter--,e.counter>=0&&""==e.tagData?t(r,1e3):e.counter=0};r()}angular.module("administration").controller("CounterController",e),e.$inject=["$scope","$timeout"]}(),function(){"use-strict";function e(e){return{restrict:"EA",scope:!1,controller:"AuthDashboardController",templateUrl:e.appBaseUrl()+"/auth-dashboard/auth-dashboard.html"}}angular.module("administration").directive("authDashboard",e),e.$inject=["templateServiceProvider"]}(),function(){"use-strict";function e(e,t,r,n){function i(){if(document.cookie.indexOf("token")>-1&&r.isAuthenticated()){var t=r.getCredentials();if(t&&t.hasOwnProperty("username")){var n=t.username;e.username!=n&&o(n)}}}function o(t){setTimeout(function(){e.$apply(function(){e.username=t})},500)}e.logout=function(){r.clearCredentials(),t.path("/home")},e.editProfile=function(){n.search(e.username).then(function(e){var r=null;angular.forEach(e.data,function(e,t){var n=JSON.parse(e);n&&(r=n.user_id)}),r&&t.url("/users/edit/"+r.toString())})},e.$on("$routeChangeSuccess",function(e,t,r){i()}),i()}angular.module("administration").controller("AuthDashboardController",e),e.$inject=["$scope","$location","authService","usersService"]}(),function(){"use strict";function e(e){return{search:function(t){return e.get("/api/users/search/"+t)},getItems:function(){return e.get("/api/users")},getItem:function(t){return e.get("/api/user/get/"+t.toString())},userDelete:function(t){return e.delete("/api/user/delete/"+t.toString())}}}angular.module("administration").service("usersService",e),e.$inject=["$http"]}(),function(){"use strict";function e(e){return{search:function(t){return e.get("/api/keys/search/"+t.toString())},getItems:function(){return e.get("api/keys")},getItem:function(t){return e.get("/api/key/get/"+t.toString())},keyDelete:function(t){return e.delete("/api/key/delete/"+t.toString())}}}angular.module("administration").service("keysService",e),e.$inject=["$http"]}(),function(){"use strict";function e(e,t,r){return{isImage:function(e){if(r.FileReader)return 1==e.type.match("image.*")},isImageUrl:function(r){e.get(r).then(function(e){return!0}).catch(function(e){return t.error("Log from images service: ",e),!1})},readImageFile:function(e,t){if(r.FileReader){var n=new r.FileReader;n.onloadend=function(e){t(null===e.target.error?n.result:null)},n.readAsDataURL(e)}},getDefaultUserProfileImageUrl:function(){return"/static/images/default.png"},getDefaultRoomPhotoUrl:function(){return"/static/images/default-room.png"}}}angular.module("administration").service("imagesService",e),e.$inject=["$http","$log","$window"]}(),function(){"use-strict";function e(e,t){function r(){return t.getObject("token")}return{login:function(t,r){var n={email:t,password:r};return e.post("/api/login",JSON.stringify(n))},setCredentials:function(n,i){var o={username:n,token:i};return t.putObject("token",o),e.defaults.headers.common.Authorization="Token "+i,r()},clearCredentials:function(){t.remove("token"),e.defaults.headers.common.Authorization="Token "},getCredentials:r,isAuthenticated:function(){return!!t.getObject("token")}}}angular.module("administration").service("authService",e),e.$inject=["$http","$cookies"]}(),function(){"use strict";angular.module("administration").provider("templateServiceProvider",function(){this.$get=function(){return{appBaseUrl:function(){return angular.element(document.querySelector("base")).attr("href")+"static/html"}}}})}(),function(){"use strict";function e(e,t){var r=angular.element(document.querySelector("base")).attr("href")+"static/html";t.html5Mode({enabled:!0,requireBase:!1,rewriteLinks:!0}),e.when("/home",{templateUrl:r+"/home/home.html",controller:"HomeController",controllerAs:"home"}).when("/login",{templateUrl:r+"/login/login.html",controller:"LoginController"}).when("/sessions",{templateUrl:r+"/sessions/sessions.html",controller:"SessionsController",controllerAs:"sessions"}).when("/sessions/:id",{templateUrl:r+"/sessions/session-info.html",controller:"SessionInfoController",controllerAs:"sessionInfo"}).when("/keys",{templateUrl:r+"/keys/keys.html",controller:"KeysController",controllerAs:"keys"}).when("/key-details/:id",{templateUrl:r+"/key-details/key-details.html",controller:"KeyDetailsController"}).when("/keys/search",{templateUrl:r+"/search-keys/keys-search-form.html",controller:"KeysSearchController",controllerAs:"keysSearch"}).when("/users",{templateUrl:r+"/users/users.html",controller:"UsersController",controllerAs:"users"}).when("/user-details/:id",{templateUrl:r+"/user-details/user-details.html",controller:"UserDetailsController"}).when("/users/search",{templateUrl:r+"/search-users/users-search-form.html",controller:"UsersSearchController",controllerAs:"usersSearch"}).when("/users/register",{templateUrl:r+"/forms/user-form.html",controller:"UserRegisterController"}).when("/keys/register",{templateUrl:r+"/forms/key-form.html",controller:"KeyRegisterController"}).when("/users/edit/:id",{templateUrl:r+"/forms/user-form.html",controller:"UserEditController"}).when("/keys/edit/:id",{templateUrl:r+"/forms/key-form.html",controller:"KeyEditController"}).when("/keys/seed",{templateUrl:r+"/keys-seed/keys-seed.html",controller:"KeysSeedController",controllerAs:"keysSeed"}).otherwise({redirectTo:"/home"})}angular.module("administration").config(e),e.$inject=["$routeProvider","$locationProvider","$httpProvider"]}();